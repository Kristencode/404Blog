<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>404 Form</title>
    <link rel="stylesheet" href="./output.css" />
  </head>
  <body class="min-h-screen flex flex-col bg-gray-100">

    <!-- Navigation -->
    <nav
      class="bg-slate-50 w-full mt-0 shadow-sm sticky top-0 z-50 border-b border-gray-300"
      aria-label="Main navigation"
    >
      <div class="max-w-7xl mx-auto flex justify-between items-center px-6 py-4">
        <a href="#" class="text-2xl font-extrabold text-red-600 tracking-wide"
          >News<span class="text-gray-800">404</span></a
        >
        <ul class="hidden md:flex space-x-10 font-semibold text-slate-900">
          <li><a href="./index.html" class="nav-link hover:text-red-800">Home</a></li>
          <li><a href="#" class="nav-link hover:text-red-800">Latest</a></li>
          <li><a href="#" class="nav-link hover:text-red-800">Sports</a></li>
          <li><a href="#" class="nav-link hover:text-red-800">Politics</a></li>
          <li><a href="#" class="nav-link hover:text-red-800">Fashion</a></li>
          <li><a href="#" class="nav-link hover:text-red-800">Business</a></li>
        </ul>
        <div class="font-semibold text-gray-700 lg:flex gap-4 hidden">
          <a href="./login.html" class="hover:text-red-800">Sign In</a>
          <a href="reg.html"
            class="bg-red-700 text-white p-1 lg:px-2 rounded-md hover:scale-105 transition-transform duration-300"
            >Sign Up</a
          >
        </div>
      </div>
    </nav>

    <!-- News Article -->
    <section class="max-w-2xl mx-auto bg-white p-4 mt-10">
      <h2 class="text-4xl font-bold text-gray-900 mb-4">
        Spain and Portugal Power Chaos - In Pictures
      </h2>
      <img
        src="https://ichef.bbci.co.uk/news/480/cpsprodpb/51ea/live/aa3c2900-2448-11f0-b26b-ab62c890638b.jpg.webp"
        class="mb-4 w-full object-cover rounded"
      />
      <p class="text-gray-800 mb-4">
        A massive power cut has caused widespread disruption in parts of Spain and Portugal, with airports, trains and petrol stations impacted. The chaos has also hit stores, with some supermarkets shutting and local grocery stores switching to cash as card payments stopped working.
      </p>
      <img
        src="https://ichef.bbci.co.uk/news/1024/cpsprodpb/bc9d/live/98313e00-2446-11f0-8f57-b7237f6a66e6.jpg.webp"
        class="mb-4 w-full object-cover rounded"
      />
      <p class="text-gray-800 mb-4">
        Tens of millions of people on the Iberian Peninsula had their day upended by power outages that lasted hours. Across Spain and Portugal, hospitals ran on generators, trains were halted and supermarkets were shuttered. Here is a look at some of the damage:
      </p>
      <p class="text-gray-800">
        The chaos has also hit stores, with some supermarkets shutting and local grocery stores switching to cash as card payments stopped working. Here we collect some of the day's most powerful news photographs.
      </p>
    </section>

    <!-- Comment Section -->
    <div class="flex justify-center mt-16 lg:mt-20">
      <div class="w-full max-w-2xl bg-gray-100 rounded-lg shadow-md p-6">
        <h2 class="text-xl lg:text-2xl font-semibold text-gray-800 mb-4">Comments</h2>

        <!-- Comment Form -->
        <form id="commentForm" class="mb-6">
          <input
            id="username"
            type="text"
            placeholder="Your Name"
            class="w-full mb-3 p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400"
            required
          />
          <textarea
            id="comment"
            rows="4"
            placeholder="Write your comment here..."
            class="w-full p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400 resize-none"
            required
          ></textarea>
          <button
            type="submit"
            class="mt-3 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition"
          >
            Post Comment
          </button>
        </form>

        <!-- Comment List -->
        <div id="commentList" class="space-y-4"></div>
      </div>
    </div>

    <!-- JS Scripts -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <script>
      const commentForm = document.getElementById("commentForm");
      const commentList = document.getElementById("commentList");
      const postKey = "news404_comments";

      commentForm.addEventListener("submit", function (e) {
        e.preventDefault();
        const username = document.getElementById("username").value.trim();
        const comment = document.getElementById("comment").value.trim();

        if (!username || !comment) return;

        const newComment = { name: username, text: comment };
        const allComments = JSON.parse(localStorage.getItem(postKey)) || [];

        allComments.unshift(newComment);
        localStorage.setItem(postKey, JSON.stringify(allComments));

        commentForm.reset();
        loadComments();
      });

      function loadComments() {
        const allComments = JSON.parse(localStorage.getItem(postKey)) || [];
        commentList.innerHTML = "";

        allComments.forEach((comment) => {
          const commentEl = document.createElement("div");
          commentEl.className = "p-4 bg-white rounded-md shadow-sm border border-gray-200";

          commentEl.innerHTML = `
            <p class="font-semibold text-gray-800">${comment.name}</p>
            <p class="text-gray-700">${comment.text}</p>
          `;

          commentList.appendChild(commentEl);
        });
      }

      loadComments();
    </script>
  </body>
</html>
